var AppCtrl;AppCtrl=function($scope,$resource,$rootScope){var request_with_token;$("[data-attribute=autocomplete_off]").attr("autocomplete","off");$scope.clean=function(){return $rootScope.ac_show=""};$scope.dropdown=function(){if($rootScope.dropdown_status==="open"){return $rootScope.dropdown_status=""}else{return $rootScope.dropdown_status="open"}};$scope.set_language=function(code){$rootScope.lan=code;return $.ajax({data_format:"json",url:"/language/"+code+"/",success:function(data){data=$.parseJSON(data);if(data.result){return location.reload(true)}}})};$scope.change_photo=function($event){var next,slide_up;slide_up=$("body").css("overflow");if(slide_up==="hidden"){if($event.keyCode===37&&$rootScope.slide_now>0){next=parseInt($rootScope.slide_now)-1;$rootScope.slide_now=next;return $rootScope.slide_power(next,$rootScope.recipe_id)}else{if($event.keyCode===39&&$rootScope.slide_now<$rootScope.slide_end){next=parseInt($rootScope.slide_now)+1;$rootScope.slide_now=next;return $rootScope.slide_power(next,$rootScope.recipe_id)}}}};$scope.la=function(list_code){if($.inArray($rootScope.lan,list_code)>=0){return $rootScope.lan}else{return list_code[0]}};$scope.status_msg=function(success){if(success===false){return"msg msg-error"}else{return"msg msg-success"}};$scope.show_message=function(resource,type_msg){if(type_msg){$rootScope[""+type_msg+"_message_show"]=true;$rootScope[""+type_msg+"_message_status"]=$scope.status_msg(resource.success);return $rootScope[""+type_msg+"_message_message"]=resource.message}else{$scope.scroll_top();$rootScope.message_show=true;$rootScope.message_status=$scope.status_msg(resource.success);return $rootScope.message_message=resource.message}};$scope.close_message=function(type_msg){if(type_msg){return $rootScope[""+type_msg+"_message_show"]=false}else{return $rootScope.message_show=false}};$scope.scroll_top=function(){return $("html, body").animate({scrollTop:0},"slow")};request_with_token={get:{method:"JSONP",params:{token:app.token}}};$rootScope.request_with_token=request_with_token;$scope.ajaxUsersNew=$resource($rootScope.API+"/users/new.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxUsersShow=$resource($rootScope.API+"/users/show.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxUsersList=$resource($rootScope.API+"/users/list.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxUserFavorites=$resource($rootScope.API+"/favorites/list.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxUserDraft=$resource($rootScope.API+"/drafts/list.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxAccountUpdate=$resource($rootScope.API+"/account/update.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxAccountUpdateProfile=$resource($rootScope.API+"/account/update_profile.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxAccountUpdateAccount=$resource($rootScope.API+"/account/update_account.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxAccountUpdatePassword=$resource($rootScope.API+"/account/update_password.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxAutocompleteListIngredients=$resource($rootScope.API+"/autocomplete/list_ingredients.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxAutocompleteListTags=$resource($rootScope.API+"/autocomplete/list_tags.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxAutocompleteListIngredientSearch=$resource($rootScope.API+"/autocomplete/list_ingredient_search.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxAutocompleteListTagSearch=$resource($rootScope.API+"/autocomplete/list_tag_search.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxTimelineHome=$resource($rootScope.API+"/timeline/home.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxTimelineUser=$resource($rootScope.API+"/timeline/user.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxSearchRecipes=$resource($rootScope.API+"/search/recipes.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxImageView=$resource($rootScope.API+"/images/view.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxRecipeShow=$resource($rootScope.API+"/recipes/show.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxMeasuresList=$resource($rootScope.API+"/measures/list.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxTasty=$resource($rootScope.API+"/recipes/tasty.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxFavorite=$resource($rootScope.API+"/recipes/favorite.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxComments=$resource($rootScope.API+"/comments/show.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxCommentsAdd=$resource($rootScope.API+"/comments/add.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxCommentsRemove=$resource($rootScope.API+"/comments/remove.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxSaveRecipe=$resource($rootScope.API+"/recipes/save.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxPublishRecipe=$resource($rootScope.API+"/recipes/publish.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxEditRecipe=$resource($rootScope.API+"/recipes/edit.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxRecipeAddIngredient=$resource($rootScope.API+"/recipes/add_ingredient.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxRecipeAddTag=$resource($rootScope.API+"/recipes/add_tag.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxRecipesRemoveDraft=$resource($rootScope.API+"/recipes/remove_draft.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxIngredientsList=$resource($rootScope.API+"/ingredients/list.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxTagsList=$resource($rootScope.API+"/tags/list.json",{callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});$scope.ajaxHashTableList=$resource($rootScope.API+"/hash_table/list.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxHashTableNew=$resource($rootScope.API+"/hash_table/new.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxHashTableGet=$resource($rootScope.API+"/hash_table/get.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxHashTableUpdate=$resource($rootScope.API+"/hash_table/update.json",{callback:"JSON_CALLBACK"},request_with_token);$scope.ajaxRecipesList=$resource($rootScope.API+"/recipes/list.json",{callback:"JSON_CALLBACK"},request_with_token)};AppCtrl.$inject=["$scope","$resource","$rootScope"];