var HashTableCtrl;HashTableCtrl=function($scope,$resource,$rootScope,$location){var counter,hash_table_index,hash_table_new,hash_table_overview,hash_table_update,hash_table_view,params,__get_value,_init_hash_table;$rootScope.admin_module="hash_table";hash_table_overview=path.match(/^\/admin\/hash_table\/overview\/?$/i);hash_table_index=path.match(/^\/admin\/hash_table\/?$/i);hash_table_new=path.match(/^\/admin\/hash_table\/new\/?$/i);hash_table_update=path.match(/^\/admin\/hash_table\/update\/([^\/]+)\/?$/i);hash_table_view=path.match(/^\/admin\/hash_table\/view\/([^\/]+)\/?$/i);$scope.menu_language=false;$scope.show_hash_map_list=false;$scope.hash_map_id="";$scope.hash_map={name:"",value:{}};_init_hash_table=function(){return $scope.hash_table={language:$rootScope.language,lan:$rootScope.lan}};if(hash_table_index||hash_table_overview||hash_table_view){$rootScope.loader=true;$scope.ajaxHashTableList.get(params,function(resource){$rootScope.loader=false;$rootScope.items_list=resource.hash_map_list;return $scope.show_hash_map_list=true})}else{if(hash_table_new){$scope.title="New Hash Table";$scope.update=false;_init_hash_table()}}if(hash_table_update||hash_table_view){$scope.title="Update";$scope.update=true;_init_hash_table();if(hash_table_view){$scope.hash_map_id=hash_table_view[1]}else{$scope.hash_map_id=hash_table_update[1]}params={_id:$scope.hash_map_id};$scope.ajaxHashTableGet.get(params,function(resource){var key,value,_ref,_results;$scope.hash_map=resource.hash_map;_ref=$scope.hash_map.value;_results=[];for(key in _ref){value=_ref[key];_results.push($scope.hash_map.value[key]["key"]=key)}return _results})}$scope.change_language=function(code,language){$scope.hash_table.lan=code;$scope.hash_table.language=language;return $scope.menu_language=false};$scope.change_name_label=function(name_label){return $scope.name_label=name_label};$scope.remove_label=function(key){return delete $scope.hash_map.value[key]};counter=0;$scope.add_label=function(){var key,value;key="aaa_key_"+counter;counter+=1;value={en:"",it:"",key:""};return $scope.hash_map.value[key]=value};$scope.menu_reveal=function(){return $scope.menu_language=!$scope.menu_language};$scope["new"]=function(){var paramas;$rootScope.message_show=false;paramas={name:$scope.hash_map.name,token:app.token};paramas=__get_value(paramas);return $scope.ajaxHashTableNew.save(paramas,function(resource){return $scope.show_message(resource)})};$scope.save=function(){var paramas;$rootScope.message_show=false;paramas={_id:$scope.hash_map_id,name:$scope.hash_map.name,token:app.token};paramas=__get_value(paramas);return $scope.ajaxHashTableUpdate.save(paramas,function(resource){return $scope.show_message(resource)})};return __get_value=function(hash_map){var code,key,value,_i,_len,_ref,_ref1;_ref=$scope.list_code;for(_i=0,_len=_ref.length;_i<_len;_i++){code=_ref[_i];counter=0;_ref1=$scope.hash_map.value;for(key in _ref1){value=_ref1[key];hash_map["label-name-"+counter]=value.key;hash_map["label-"+code+"-"+counter]=value[code];counter+=1}hash_map.len=counter}return hash_map}};HashTableCtrl.$inject=["$scope","$resource","$rootScope","$location"];